-- case000.json --
{
  "dataset": "dataset6__INPUT",
  "bindings": {},
  "exprFile": "case000.JSONATA"
}
-- case000.JSONATA --
(library.books~>$single(λ($v, $i, $a) {$v.price = $max($a.price)})).isbn
-- case000_expected.json --
"9780262510875"
-- case001.json --
{
  "dataset": "dataset6__INPUT",
  "bindings": {},
  "exprFile": "case001.JSONATA",
  "undefinedResult": true
}
-- case001.JSONATA --
nothing~>$single(λ($v, $i, $a) {$v.price = $max($a.price)})
-- case001_expected.json --
null
-- case002.json --
{
  "dataset": "",
  "bindings": {},
  "exprFile": "case002.JSONATA"
}
-- case002.JSONATA --
$single(data, function($d) { true })
-- case002_expected.json --
5
-- case003.json --
{
  "dataset": "",
  "bindings": {},
  "exprFile": "case003.JSONATA"
}
-- case003.JSONATA --
$single([0, 1, 2], $boolean)
-- case003_expected.json --
null
-- case004.json --
{
  "dataset": "",
  "bindings": {},
  "exprFile": "case004.JSONATA"
}
-- case004.JSONATA --
$single([0, 1, 2], function($v) {$v = 3})
-- case004_expected.json --
null
-- case005.json --
{
  "dataset": "",
  "bindings": {},
  "exprFile": "case005.JSONATA"
}
-- case005.JSONATA --
$single([0, 1, 2])
-- case005_expected.json --
null
-- case006.json --
{
  "dataset": "",
  "bindings": {},
  "exprFile": "case006.JSONATA"
}
-- case006.JSONATA --
$single([0])
-- case006_expected.json --
0
-- case007.json --
{
  "dataset": "",
  "bindings": {},
  "exprFile": "case007.JSONATA"
}
-- case007.JSONATA --
$single([])
-- case007_expected.json --
null
-- case008.json --
{
  "dataset": "",
  "bindings": {},
  "exprFile": "case008.JSONATA"
}
-- case008.JSONATA --
$single([true, false, true], function($v) {$v=false})
-- case008_expected.json --
false
-- case009.json --
{
  "dataset": "",
  "bindings": {},
  "exprFile": "case009.JSONATA"
}
-- case009.JSONATA --
$single(['zero', 'one', 'two'], function($v, $i, $k) {$i=1})
-- case009_expected.json --
"one"
-- case010.json --
{
  "dataset": "dataset1__INPUT",
  "bindings": {},
  "exprFile": "case010.JSONATA"
}
-- case010.JSONATA --
Phone ~> $filter(function($p) {$p.type = 'home'}) ~> $single(function($p) {$p.number = '0203 544 1234'})
-- case010_expected.json --
{
  "number": "0203 544 1234",
  "type": "home"
}
